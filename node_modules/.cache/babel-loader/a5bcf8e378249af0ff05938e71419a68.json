{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\vlad_\\\\Desktop\\\\React\\\\recipes-site-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"C:\\\\Users\\\\vlad_\\\\Desktop\\\\React\\\\recipes-site-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\vlad_\\\\Desktop\\\\React\\\\recipes-site-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\vlad_\\\\Desktop\\\\React\\\\recipes-site-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\vlad_\\\\Desktop\\\\React\\\\recipes-site-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\vlad_\\\\Desktop\\\\React\\\\recipes-site-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import Images from\"../../assets\";import{Image,Li,Ol}from\"../ui\";import RecipesData from\"../recipes-database/RecipesData\";import CookTime from\"../cook-time\";import Spinner from\"../spinner\";import ErrorIndicator from\"../error-indicator\";import s from\"./RecipesDetails.module.css\";var RecipesDetails=/*#__PURE__*/function(_Component){_inherits(RecipesDetails,_Component);function RecipesDetails(){var _getPrototypeOf2;var _this;_classCallCheck(this,RecipesDetails);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(RecipesDetails)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.recipes=new RecipesData();_this.ingrKey=0;_this.instrKey=0;_this.state={recipe:null,loading:true};_this.onRecipeLoaded=function(recipe){_this.setState({recipe:recipe,loading:false,error:false});};_this.onError=function(error){_this.setState({error:true,loading:false});};return _this;}_createClass(RecipesDetails,[{key:\"componentDidMount\",value:function componentDidMount(){this.updateRecipe();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.itemId!==prevProps.itemId){this.updateRecipe();}}},{key:\"updateRecipe\",value:function updateRecipe(){var itemId=this.props.itemId;if(!itemId){return;}var recipe=this.recipes.getRecipe(itemId);try{this.onRecipeLoaded(recipe);}catch(error){this.onError(error);}}},{key:\"renderIngredients\",value:function renderIngredients(ingrs){var _this2=this;return ingrs.map(function(ingr){_this2.ingrKey++;return React.createElement(Li,{key:_this2.ingrKey},ingr);});}},{key:\"renderInstructions\",value:function renderInstructions(instrs){var _this3=this;return instrs.map(function(instr){_this3.instrKey++;return React.createElement(Li,{key:_this3.instrKey},instr);});}},{key:\"render\",value:function render(){var _this$state=this.state,recipe=_this$state.recipe,loading=_this$state.loading,error=_this$state.error;if(!recipe){return React.createElement(Spinner,null);}var hasData=!(loading||error);var errorMessage=error?React.createElement(ErrorIndicator,null):null;var spinner=loading?React.createElement(Spinner,null):null;var _recipe=_slicedToArray(recipe,1),_recipe$=_recipe[0],ingredients=_recipe$.ingredients,instructions=_recipe$.instructions,id=_recipe$.id,name=_recipe$.name,cookTime=_recipe$.cookTime,yields=_recipe$.yields;var ingrs=this.renderIngredients(ingredients);var instrs=this.renderInstructions(instructions);var content=hasData?React.createElement(Image,{src:Images[id],alt:\"Recipe Image\"}):null;return React.createElement(\"div\",{className:s.RecipesDetails},React.createElement(\"div\",{className:s.RecipeContent},React.createElement(\"h1\",null,name),errorMessage,spinner,content,React.createElement(\"p\",null,\"Yield: \",yields,\" servings\"),React.createElement(CookTime,{cookTime:cookTime}),React.createElement(Ol,{headText:\"Ingredients\"},ingrs),React.createElement(Ol,{headText:\"Instructions\"},instrs)));}}]);return RecipesDetails;}(Component);export{RecipesDetails as default};","map":{"version":3,"sources":["C:/Users/vlad_/Desktop/React/recipes-site-react/src/components/recipes-page-components/RecipesDetails.js"],"names":["React","Component","Images","Image","Li","Ol","RecipesData","CookTime","Spinner","ErrorIndicator","s","RecipesDetails","recipes","ingrKey","instrKey","state","recipe","loading","onRecipeLoaded","setState","error","onError","updateRecipe","prevProps","props","itemId","getRecipe","ingrs","map","ingr","instrs","instr","hasData","errorMessage","spinner","ingredients","instructions","id","name","cookTime","yields","renderIngredients","renderInstructions","content","RecipeContent"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Images from \"../../assets\";\r\nimport { Image, Li, Ol } from \"../ui\";\r\nimport RecipesData from \"../recipes-database/RecipesData\";\r\nimport CookTime from \"../cook-time\";\r\nimport Spinner from \"../spinner\";\r\nimport ErrorIndicator from \"../error-indicator\";\r\n\r\nimport s from \"./RecipesDetails.module.css\";\r\n\r\nexport default class RecipesDetails extends Component {\r\n  recipes = new RecipesData();\r\n  ingrKey = 0;\r\n  instrKey = 0;\r\n\r\n  state = {\r\n    recipe: null,\r\n    loading: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.updateRecipe();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.itemId !== prevProps.itemId) {\r\n      this.updateRecipe();\r\n    }\r\n  }\r\n\r\n  onRecipeLoaded = (recipe) => {\r\n    this.setState({\r\n      recipe,\r\n      loading: false,\r\n      error: false,\r\n    });\r\n  };\r\n\r\n  onError = (error) => {\r\n    this.setState({\r\n      error: true,\r\n      loading: false,\r\n    });\r\n  };\r\n\r\n  updateRecipe() {\r\n    const { itemId } = this.props;\r\n    if (!itemId) {\r\n      return;\r\n    }\r\n    const recipe = this.recipes.getRecipe(itemId);\r\n    try {\r\n      this.onRecipeLoaded(recipe);\r\n    } catch (error) {\r\n      this.onError(error);\r\n    }\r\n  }\r\n\r\n  renderIngredients(ingrs) {\r\n    return ingrs.map((ingr) => {\r\n      this.ingrKey++;\r\n      return <Li key={this.ingrKey}>{ingr}</Li>;\r\n    });\r\n  }\r\n\r\n  renderInstructions(instrs) {\r\n    return instrs.map((instr) => {\r\n      this.instrKey++;\r\n      return <Li key={this.instrKey}>{instr}</Li>;\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { recipe, loading, error } = this.state;\r\n    if (!recipe) {\r\n      return <Spinner />;\r\n    }\r\n\r\n    const hasData = !(loading || error);\r\n\r\n    const errorMessage = error ? <ErrorIndicator /> : null;\r\n    const spinner = loading ? <Spinner /> : null;\r\n    const [{ ingredients, instructions, id, name, cookTime, yields }] = recipe;\r\n\r\n    const ingrs = this.renderIngredients(ingredients);\r\n    const instrs = this.renderInstructions(instructions);\r\n\r\n    const content = hasData ? (\r\n      <Image src={Images[id]} alt=\"Recipe Image\" />\r\n    ) : null;\r\n\r\n    return (\r\n      <div className={s.RecipesDetails}>\r\n        <div className={s.RecipeContent}>\r\n          <h1>{name}</h1>\r\n          {errorMessage}\r\n          {spinner}\r\n          {content}\r\n          <p>Yield: {yields} servings</p>\r\n          <CookTime cookTime={cookTime} />\r\n          <Ol headText=\"Ingredients\">{ingrs}</Ol>\r\n          <Ol headText=\"Instructions\">{instrs}</Ol>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}