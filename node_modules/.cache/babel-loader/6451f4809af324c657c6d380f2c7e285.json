{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\vlad_\\\\Desktop\\\\React\\\\recipes-site-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"C:\\\\Users\\\\vlad_\\\\Desktop\\\\React\\\\recipes-site-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\vlad_\\\\Desktop\\\\React\\\\recipes-site-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\vlad_\\\\Desktop\\\\React\\\\recipes-site-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\vlad_\\\\Desktop\\\\React\\\\recipes-site-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\vlad_\\\\Desktop\\\\React\\\\recipes-site-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import Images from\"../../assets\";import{Image,Li,Ol}from\"../ui\";import RecipesData from\"../recipes-database/RecipesData\";import CookTime from\"../cook-time\";import Spinner from\"../spinner\";import ErrorIndicator from\"../error-indicator\";import s from\"./RecipesDetails.module.css\";var RecipesDetails=/*#__PURE__*/function(_Component){_inherits(RecipesDetails,_Component);function RecipesDetails(){var _getPrototypeOf2;var _this;_classCallCheck(this,RecipesDetails);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(RecipesDetails)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.recipes=new RecipesData();_this.ingrKey=0;_this.instrKey=0;_this.state={recipe:null,loading:true,error:false};_this.onRecipeLoaded=function(recipe){_this.setState({recipe:recipe,loading:false,error:false});};_this.onError=function(error){_this.setState({error:true,loading:false});};_this.onLoad=function(){_this.setState({loading:true,error:false});};return _this;}_createClass(RecipesDetails,[{key:\"componentDidMount\",value:function componentDidMount(){this.updateItem();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.itemId!==prevProps.itemId){this.updateItem();}}},{key:\"updateItem\",value:function updateItem(){this.onLoad();var itemId=this.props.itemId;if(!itemId){return;}var recipe=this.recipes.getRecipe(itemId);try{this.onRecipeLoaded(recipe);}catch(error){this.onError(error);}}},{key:\"renderIngredients\",value:function renderIngredients(ingrs){var _this2=this;return ingrs.map(function(ingr){_this2.ingrKey++;return React.createElement(Li,{key:_this2.ingrKey},ingr);});}},{key:\"renderInstructions\",value:function renderInstructions(instrs){var _this3=this;return instrs.map(function(instr){_this3.instrKey++;return React.createElement(Li,{key:_this3.instrKey},instr);});}},{key:\"render\",value:function render(){var _this$state=this.state,recipe=_this$state.recipe,loading=_this$state.loading,error=_this$state.error;if(loading){return React.createElement(Spinner,null);}if(error){return React.createElement(ErrorIndicator,null);}var _recipe=_slicedToArray(recipe,1),_recipe$=_recipe[0],name=_recipe$.name,id=_recipe$.id,yields=_recipe$.yields,cookTime=_recipe$.cookTime,ingredients=_recipe$.ingredients,instructions=_recipe$.instructions;var ingrs=this.renderIngredients(ingredients);var instrs=this.renderInstructions(instructions);return React.createElement(\"div\",{className:s.RecipesDetails},React.createElement(\"div\",{className:s.RecipeContent},React.createElement(\"h1\",null,name),React.createElement(Image,{src:Images[id],alt:\"Recipe Image\"}),React.createElement(\"p\",null,\"Yield: \",yields,\" servings\"),React.createElement(CookTime,{cookTime:cookTime}),React.createElement(Ol,{headText:\"Ingredients\"},ingrs),React.createElement(Ol,{headText:\"Instructions\"},instrs)));}}]);return RecipesDetails;}(Component);export{RecipesDetails as default};","map":{"version":3,"sources":["C:/Users/vlad_/Desktop/React/recipes-site-react/src/components/recipes-page-components/RecipesDetails.js"],"names":["React","Component","Images","Image","Li","Ol","RecipesData","CookTime","Spinner","ErrorIndicator","s","RecipesDetails","recipes","ingrKey","instrKey","state","recipe","loading","error","onRecipeLoaded","setState","onError","onLoad","updateItem","prevProps","props","itemId","getRecipe","ingrs","map","ingr","instrs","instr","name","id","yields","cookTime","ingredients","instructions","renderIngredients","renderInstructions","RecipeContent"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Images from \"../../assets\";\r\nimport { Image, Li, Ol } from \"../ui\";\r\nimport RecipesData from \"../recipes-database/RecipesData\";\r\nimport CookTime from \"../cook-time\";\r\nimport Spinner from \"../spinner\";\r\nimport ErrorIndicator from \"../error-indicator\";\r\n\r\nimport s from \"./RecipesDetails.module.css\";\r\n\r\nexport default class RecipesDetails extends Component {\r\n  recipes = new RecipesData();\r\n  ingrKey = 0;\r\n  instrKey = 0;\r\n\r\n  state = {\r\n    recipe: null,\r\n    loading: true,\r\n    error: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.updateItem();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.itemId !== prevProps.itemId) {\r\n      this.updateItem();\r\n    }\r\n  }\r\n\r\n  onRecipeLoaded = (recipe) => {\r\n    this.setState({\r\n      recipe,\r\n      loading: false,\r\n      error: false,\r\n    });\r\n  };\r\n\r\n  onError = (error) => {\r\n    this.setState({\r\n      error: true,\r\n      loading: false,\r\n    });\r\n  };\r\n\r\n  onLoad = () => {\r\n    this.setState({\r\n      loading: true,\r\n      error: false,\r\n    });\r\n  };\r\n\r\n  updateItem() {\r\n    this.onLoad();\r\n    const { itemId } = this.props;\r\n    if (!itemId) {\r\n      return;\r\n    }\r\n    const recipe = this.recipes.getRecipe(itemId);\r\n    try {\r\n      this.onRecipeLoaded(recipe);\r\n    } catch (error) {\r\n      this.onError(error);\r\n    }\r\n  }\r\n\r\n  renderIngredients(ingrs) {\r\n    return ingrs.map((ingr) => {\r\n      this.ingrKey++;\r\n      return <Li key={this.ingrKey}>{ingr}</Li>;\r\n    });\r\n  }\r\n\r\n  renderInstructions(instrs) {\r\n    return instrs.map((instr) => {\r\n      this.instrKey++;\r\n      return <Li key={this.instrKey}>{instr}</Li>;\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { recipe, loading, error } = this.state;\r\n\r\n    if (loading) {\r\n      return <Spinner />;\r\n    }\r\n\r\n    if (error) {\r\n      return <ErrorIndicator />;\r\n    }\r\n\r\n    const [{ name, id, yields, cookTime, ingredients, instructions }] = recipe;\r\n    const ingrs = this.renderIngredients(ingredients);\r\n    const instrs = this.renderInstructions(instructions);\r\n\r\n    return (\r\n      <div className={s.RecipesDetails}>\r\n        <div className={s.RecipeContent}>\r\n          <h1>{name}</h1>\r\n          <Image src={Images[id]} alt=\"Recipe Image\" />\r\n          <p>Yield: {yields} servings</p>\r\n          <CookTime cookTime={cookTime} />\r\n          <Ol headText=\"Ingredients\">{ingrs}</Ol>\r\n          <Ol headText=\"Instructions\">{instrs}</Ol>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}